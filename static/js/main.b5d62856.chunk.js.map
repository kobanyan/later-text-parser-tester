{"version":3,"sources":["Header.tsx","ErrorInfo.tsx","Form.tsx","later.ts","Occurrences.tsx","Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Header","Box","component","sx","flexGrow","AppBar","position","Toolbar","Typography","variant","Link","href","target","rel","color","underline","verticalAlign","display","fontSize","marginRight","ErrorInfo","text","error","info","Array","map","concat","marginTop","paddingLeft","Form","count","onTextChange","onCountChange","noValidate","autoComplete","Grid","container","spacing","item","sm","TextField","id","label","fullWidth","value","onChange","type","initialState","occurrences","calculate","scheduleData","later","parse","schedule","next","Date","reducer","state","action","changeTextResult","payload","changeCountResult","Occurrences","List","dense","occurrence","index","ListItem","ListItemText","primary","toLocaleString","Main","React","useReducer","dispatch","handleTextChange","useCallback","event","handleCountChange","Number","justifyContent","alignItems","rowSpacing","margin","xs","Paper","padding","theme","createTheme","typography","fontFamily","join","App","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b5d62856.chunk.js","sourcesContent":["import LaunchIcon from '@mui/icons-material/Launch';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Link from '@mui/material/Link';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport React from 'react';\n\nconst Header: React.FC = () => {\n  return (\n    <Box component=\"header\" sx={{ flexGrow: 1 }}>\n      <AppBar component=\"div\" position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n            @breejs/later Text Parser Tester\n          </Typography>\n          <Link\n            href=\"https://breejs.github.io/later/parsers.html#text\"\n            target=\"_blank\"\n            rel=\"noopener\"\n            color=\"inherit\"\n            underline=\"none\"\n          >\n            <Typography\n              sx={{\n                verticalAlign: 'middle',\n                display: 'inline-flex',\n              }}\n            >\n              <LaunchIcon fontSize=\"small\" sx={{ marginRight: 1 }} />\n              Docs\n            </Typography>\n          </Link>\n        </Toolbar>\n      </AppBar>\n    </Box>\n  );\n};\n\nexport default Header;\n","import Typography from '@mui/material/Typography';\nimport React from 'react';\n\nexport type ErrorInfoProps = {\n  text: string;\n  error: number;\n};\n\nconst ErrorInfo: React.FC<ErrorInfoProps> = ({ text, error }) => {\n  const info = [...new Array(error)].map(() => '\\u00A0').concat('^');\n  return (\n    <>\n      <Typography variant=\"h5\">Error</Typography>\n      <Typography sx={{ marginTop: 1, paddingLeft: 2 }} data-testid=\"text\">\n        {text}\n      </Typography>\n      <Typography color=\"error\" sx={{ paddingLeft: 2 }} data-testid=\"error\">\n        {info}\n      </Typography>\n    </>\n  );\n};\n\nexport default ErrorInfo;\n","import Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\nimport React from 'react';\n\nexport type FormProps = {\n  text: string;\n  count: number;\n  onTextChange: Required<TextFieldProps>['onChange'];\n  onCountChange: Required<TextFieldProps>['onChange'];\n};\n\nconst Form: React.FC<FormProps> = ({\n  text,\n  count,\n  onTextChange,\n  onCountChange,\n}) => {\n  return (\n    <Box component=\"form\" noValidate autoComplete=\"off\">\n      <Grid container spacing={2}>\n        <Grid item sm={10}>\n          <TextField\n            id=\"text\"\n            label=\"Text\"\n            fullWidth\n            value={text}\n            onChange={onTextChange}\n          />\n        </Grid>\n        <Grid item sm={2}>\n          <TextField\n            id=\"count\"\n            label=\"Count\"\n            type=\"number\"\n            value={count}\n            onChange={onCountChange}\n          />\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\nexport default Form;\n","import later from '@breejs/later';\n\nexport const initialState = {\n  text: '',\n  count: 1,\n  error: -1,\n  occurrences: [] as Date[],\n};\n\ntype ChangeTextAction = {\n  type: 'changeText';\n  payload: string;\n};\n\ntype ChangeCountAction = {\n  type: 'changeCount';\n  payload: number;\n};\n\ntype Action = ChangeTextAction | ChangeCountAction;\n\nconst calculate = ({ text, count }: { text: string; count: number }) => {\n  const scheduleData = later.parse.text(text);\n  const occurrences = later.schedule(scheduleData).next(count);\n  return {\n    error: scheduleData.error,\n    occurrences:\n      occurrences instanceof Date\n        ? [occurrences]\n        : occurrences\n        ? occurrences\n        : [],\n  };\n};\n\nexport const reducer = (state: typeof initialState, action: Action) => {\n  switch (action.type) {\n    case 'changeText':\n      const changeTextResult = calculate({\n        text: action.payload,\n        count: state.count,\n      });\n      return {\n        ...state,\n        text: action.payload,\n        error: changeTextResult.error,\n        occurrences: changeTextResult.occurrences,\n      };\n    case 'changeCount':\n      const changeCountResult = calculate({\n        text: state.text,\n        count: action.payload,\n      });\n      return {\n        ...state,\n        count: action.payload,\n        error: changeCountResult.error,\n        occurrences: changeCountResult.occurrences,\n      };\n    default:\n      return { ...state };\n  }\n};\n","import List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport Typography from '@mui/material/Typography';\nimport React from 'react';\n\nexport type OccurrencesProps = {\n  occurrences: Date[];\n};\n\nconst Occurrences: React.FC<OccurrencesProps> = ({ occurrences }) => {\n  return (\n    <>\n      <Typography variant=\"h5\">Occurrences</Typography>\n      <List dense>\n        {occurrences.map((occurrence, index) => (\n          <ListItem key={index}>\n            <ListItemText primary={occurrence.toLocaleString()} />\n          </ListItem>\n        ))}\n      </List>\n    </>\n  );\n};\n\nexport default Occurrences;\n","import Grid from '@mui/material/Grid';\nimport Paper from '@mui/material/Paper';\nimport React from 'react';\n\nimport ErrorInfo from './ErrorInfo';\nimport Form, { FormProps } from './Form';\nimport { reducer, initialState } from './later';\nimport Occurrences from './Occurrences';\n\nconst Main: React.FC = () => {\n  const [{ text, count, error, occurrences }, dispatch] = React.useReducer(\n    reducer,\n    initialState\n  );\n  const handleTextChange = React.useCallback<FormProps['onTextChange']>(\n    (event) => {\n      dispatch({ type: 'changeText', payload: event.target.value });\n    },\n    []\n  );\n  const handleCountChange = React.useCallback<FormProps['onCountChange']>(\n    (event) => {\n      dispatch({ type: 'changeCount', payload: Number(event.target.value) });\n    },\n    []\n  );\n  return (\n    <Grid\n      component=\"main\"\n      container\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      rowSpacing={2}\n      margin={2}\n    >\n      <Grid item xs={8}>\n        <Paper\n          sx={{\n            padding: 2,\n          }}\n        >\n          <Form\n            text={text}\n            count={count}\n            onTextChange={handleTextChange}\n            onCountChange={handleCountChange}\n          />\n        </Paper>\n      </Grid>\n      <Grid item xs={8}>\n        <Paper\n          sx={{\n            padding: 2,\n          }}\n        >\n          {error > -1 ? (\n            <ErrorInfo text={text} error={error} />\n          ) : (\n            <Occurrences occurrences={occurrences} />\n          )}\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Main;\n","import CssBaseline from '@mui/material/CssBaseline';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport React from 'react';\n\nimport Header from './Header';\nimport Main from './Main';\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: ['Roboto Mono'].join(', '),\n  },\n});\n\nconst App: React.FC = () => {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Header />\n      <Main />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}